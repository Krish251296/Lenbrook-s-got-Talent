<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Lenbrook's Got Talent • Submit Your Act</title>
  <style>
    /* ---------- GLOBAL THEME ---------- */
    :root {
      --bg-start: #0f1a3a;
      --bg-end: #1a274d;
      --card-bg: rgba(15, 20, 40, 0.6);
      --card-border: rgba(255,255,255,0.12);
      --text-main: #fff;
      --text-dim: #bfc7e6;
      --accent-glow: rgba(255, 230, 150, 0.55);
      --accent-strong: #ffe083;
      --accent-soft: #e6c878;
      --input-bg: rgba(10,12,24,0.6);
      --input-border: rgba(255,255,255,0.18);
      --radius-xl: 18px;
      --radius-lg: 14px;
      --radius-md: 10px;
      --transition-fast: 0.18s ease;
    }

    @keyframes floatySnow {
      0%   { transform: translateY(-10vh) translateX(0); opacity: 0; }
      10%  { opacity: 1; }
      100% { transform: translateY(110vh) translateX(var(-- driftX)); opacity: 0; }
    }

    @keyframes glowPulse {
      0%   { box-shadow: 0 10px 40px rgba(255,230,150,0.22), 0 0 20px rgba(255,230,150,0.4); }
      50%  { box-shadow: 0 10px 60px rgba(255,230,150,0.4), 0 0 28px rgba(255,230,150,0.7); }
      100% { box-shadow: 0 10px 40px rgba(255,230,150,0.22), 0 0 20px rgba(255,230,150,0.4); }
    }

    @keyframes shimmerGradient {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }

    @keyframes fadeUp {
      0%   { opacity: 0; transform: translateY(20px) scale(.98); }
      100% { opacity: 1; transform: translateY(0) scale(1); }
    }

    body {
      margin: 0;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Inter", Roboto, "Segoe UI", Helvetica, Arial, sans-serif;
      background: radial-gradient(circle at 20% 20%, #1f2d57 0%, #0b1025 70%) fixed;
      color: var(--text-main);
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      position: relative;
      overflow-x: hidden;
    }

    /* subtle star field overlay */
    body::before {
      content: "";
      position: fixed;
      inset: 0;
      background-image:
        radial-gradient(2px 2px at 20% 30%, rgba(255,255,255,.8) 0%, rgba(255,255,255,0) 60%),
        radial-gradient(1.5px 1.5px at 80% 10%, rgba(255,255,255,.6) 0%, rgba(255,255,255,0) 60%),
        radial-gradient(1.2px 1.2px at 60% 70%, rgba(255,255,255,.4) 0%, rgba(255,255,255,0) 60%),
        radial-gradient(1.5px 1.5px at 30% 80%, rgba(255,255,255,.5) 0%, rgba(255,255,255,0) 60%);
      background-repeat: repeat;
      pointer-events: none;
      opacity: .6;
    }

    /* falling snowflakes layered */
    .snow-layer {
      position: fixed;
      inset: 0;
      pointer-events: none;
      overflow: hidden;
      z-index: 2;
    }
    .flake {
      position: absolute;
      top: -10vh;
      width: var(--size);
      height: var(--size);
      background: radial-gradient(circle, rgba(255,255,255,1) 0%, rgba(255,255,255,0) 70%);
      border-radius: 50%;
      filter: drop-shadow(0 0 6px rgba(255,255,255,0.6));
      animation: floatySnow var(--dur) linear infinite;
      opacity: .8;
    }

    /* ---------- HEADER ---------- */
    header.hero {
      position: relative;
      padding: 24px clamp(16px,2vw,32px) 16px;
      display: flex;
      flex-wrap: wrap;
      align-items: flex-start;
      z-index: 5;
    }

    .logo-block {
      display: flex;
      align-items: flex-start;
      gap: 16px;
      flex: 1 1 auto;
      min-width: 200px;
    }

    .logo-card {
      background: rgba(255,255,255,0.04);
      border-radius: var(--radius-lg);
      border: 1px solid rgba(255,255,255,0.18);
      box-shadow: 0 20px 60px rgba(0,0,0,0.8),
                  0 0 20px rgba(255,255,255,0.2) inset;
      padding: 10px 12px;
      min-width: 90px;
      display: flex;
      justify-content: center;
      align-items: center;
      backdrop-filter: blur(8px);
    }
    .logo-card img {
      max-width: 90px;
      height: auto;
      display: block;
    }

    .hero-copy {
      display: flex;
      flex-direction: column;
      justify-content: center;
      min-width: 220px;
    }

    .event-title {
      font-size: clamp(1.3rem, .6vw + 1rem, 1.6rem);
      line-height: 1.2;
      font-weight: 600;
      color: var(--text-main);
      text-shadow: 0 0 12px rgba(255,255,255,.5), 0 2px 4px rgba(0,0,0,.8);
      display: flex;
      align-items: center;
      gap: .5rem;
    }
    .event-title .spark {
      font-size: 1.2em;
      color: var(--accent-strong);
      filter: drop-shadow(0 0 6px var(--accent-strong));
    }

    .event-sub {
      margin-top: 4px;
      font-size: .9rem;
      color: var(--text-dim);
      line-height: 1.4;
    }

    .presenter {
      font-size: .8rem;
      margin-top: 12px;
      color: var(--accent-strong);
      text-shadow: 0 0 8px rgba(255,230,150,.5);
      display: flex;
      align-items: center;
      gap: .4rem;
      font-weight: 500;
    }

    /* ---------- MAIN CARD ---------- */
    main {
      flex: 1;
      display: flex;
      justify-content: center;
      padding: 16px clamp(12px,2vw,24px) 80px;
      z-index: 5;
    }

    .card {
      width: 100%;
      max-width: 720px;
      background: var(--card-bg);
      border: 1px solid var(--card-border);
      border-radius: var(--radius-xl);
      box-shadow:
        0 30px 120px rgba(0,0,0,.9),
        0 0 80px rgba(255,230,150,.08);
      backdrop-filter: blur(12px) saturate(140%);
      -webkit-backdrop-filter: blur(12px) saturate(140%);
      padding: 24px 24px 32px;
      position: relative;
      animation: fadeUp .4s var(--transition-fast) both;
    }

    .card::after {
      content:"";
      position:absolute;
      inset:-2px;
      border-radius:inherit;
      padding:2px;
      background: radial-gradient(circle at 20% 20%, rgba(255,230,150,.4) 0%, rgba(0,0,0,0) 70%);
      filter: blur(20px);
      opacity:.3;
      z-index:-1;
    }

    .card-header-row {
      display:flex;
      align-items:center;
      gap:.6rem;
      flex-wrap:wrap;
      color: var(--text-main);
      font-weight:600;
      font-size:1rem;
      line-height:1.2;
      margin-bottom:16px;
      text-shadow:0 0 8px rgba(255,255,255,.4);
    }
    .card-header-row .emoji {
      font-size:1.2rem;
      filter:drop-shadow(0 0 6px rgba(255,255,255,.6));
    }

    .helper-text {
      color: var(--text-dim);
      font-size:.85rem;
      line-height:1.5;
      margin-bottom:20px;
    }

    form label {
      display:block;
      font-size:.8rem;
      font-weight:500;
      color:var(--text-main);
      margin:18px 0 6px;
    }

    .input-shell {
      background: var(--input-bg);
      border:1px solid var(--input-border);
      border-radius: var(--radius-md);
      box-shadow: 0 0 20px rgba(0,0,0,.8),
                  0 0 20px rgba(255,255,255,.07) inset;
      display:flex;
      align-items:center;
      padding:0 12px;
      transition: all var(--transition-fast);
    }
    .input-shell:focus-within {
      border-color: var(--accent-strong);
      box-shadow:
        0 0 12px var(--accent-glow),
        0 0 60px rgba(255,230,150,.25);
    }

    input[type="text"],
    textarea,
    input[type="file"] {
      background: transparent;
      border: none;
      outline: none;
      flex: 1;
      width: 100%;
      font-size: .9rem;
      line-height: 1.4;
      color: var(--text-main);
      padding: 14px 0;
      font-family: inherit;
    }
    textarea {
      resize: vertical;
      min-height: 90px;
    }

    /* ---------- MODERN BUTTON ---------- */
    .btn-wrap {
      margin-top:28px;
      position: relative;
      display:flex;
      flex-direction:column;
      align-items:center;
    }

    button[type="submit"] {
      cursor:pointer;
      border:0;
      border-radius: var(--radius-lg);
      font-size: 1rem;
      font-weight:600;
      line-height:1.2;
      color:#1a1400;
      min-width: 220px;
      padding:14px 20px;
      background: linear-gradient(
        90deg,
        #fff2b0 0%,
        #ffd966 20%,
        #ffb84a 40%,
        #ffd966 60%,
        #fff2b0 100%
      );
      background-size:200% 100%;
      animation: shimmerGradient 3s infinite;
      box-shadow:
        0 16px 40px rgba(255,200,80,.35),
        0 0 20px rgba(255,225,160,.8),
        0 0 60px rgba(255,200,80,.4);
      position:relative;
      transition: all var(--transition-fast);
    }

    button[type="submit"]:hover {
      transform: translateY(-2px) scale(1.02);
      box-shadow:
        0 20px 50px rgba(255,200,80,.5),
        0 0 24px rgba(255,225,160,1),
        0 0 70px rgba(255,200,80,.6);
    }

    .btn-hint {
      color:var(--text-dim);
      font-size:.7rem;
      line-height:1.4;
      text-align:center;
      margin-top:10px;
      max-width:300px;
    }

    /* ---------- FOOTER NOTE ---------- */
    footer {
      text-align:center;
      font-size:.7rem;
      line-height:1.4;
      color:var(--text-dim);
      padding: 24px 16px 48px;
      z-index:5;
    }
    footer span.glow {
      color:var(--accent-strong);
      text-shadow:0 0 8px var(--accent-strong);
    }

    /* ---------- RESPONSIVE ---------- */
    @media(max-width:480px){
      header.hero {
        flex-direction: column;
        align-items: flex-start;
        gap:12px;
      }
      .logo-block {
        flex-direction: row;
      }
      .event-title {
        font-size:1.2rem;
      }
    }
  </style>
</head>
<body>
  <!-- snow layers -->
  <div class="snow-layer" id="snowLayer"></div>

  <header class="hero">
    <div class="logo-block">
      <div class="logo-card">
        <img src="logo.png" alt="Lenbrook's Got Talent Logo" />
      </div>
      <div class="hero-copy">
        <div class="event-title">
          <span class="spark">🎤</span>
          <span>Submit Your Act</span>
        </div>
        <div class="event-sub">
          Upload your performance for the Lenbrook Christmas Lunch showcase.
        </div>
        <div class="presenter">
          <span>Presented by Party Patrol</span> <span>🎉</span>
        </div>
      </div>
    </div>
  </header>

  <main>
    <div class="card">
      <div class="card-header-row">
        <span class="emoji">✨</span>
        <span>Performance Submission</span>
      </div>
      <div class="helper-text">
        Please tell us who you are (team or solo) and describe your act. Then upload your video file.
      </div>

      <form id="submissionForm" enctype="multipart/form-data">
        <label>Team / Participant Name *</label>
        <div class="input-shell">
          <input type="text" name="name" placeholder="e.g. 'The Holiday Harmonies'" required />
        </div>

        <label>Act Description *</label>
        <div class="input-shell">
          <textarea name="description" placeholder="Briefly describe your talent performance" required></textarea>
        </div>

        <label>Performance Video *</label>
        <div class="input-shell">
          <input type="file" name="video" accept="video/*" required />
        </div>

        <div class="btn-wrap">
          <button type="submit">
            Submit Video ✨
          </button>
          <div class="btn-hint" id="statusMsg"></div>
        </div>
      </form>
    </div>
  </main>

  <footer>
    By submitting, you agree we can show this at the Lenbrook Christmas Lunch Event. <br/>
    <span class="glow">Good luck & have fun 🎄</span>
  </footer>

  <script>
    /* --- snow generator --- */
    const snowLayer = document.getElementById("snowLayer");
    function makeFlake() {
      const flake = document.createElement("div");
      const size = (Math.random() * 3 + 2).toFixed(1) + "px"; // 2px - 5px
      const dur = (Math.random() * 4 + 4).toFixed(1) + "s";   // 4s - 8s
      const startLeft = Math.random() * 100;
      const driftX = (Math.random() * 40 - 20).toFixed(1) + "px";
      flake.className = "flake";
      flake.style.left = startLeft + "vw";
      flake.style.setProperty("--size", size);
      flake.style.setProperty("--dur", dur);
      flake.style.setProperty("--driftX", driftX);
      snowLayer.appendChild(flake);
      setTimeout(() => {
        snowLayer.removeChild(flake);
      }, parseFloat(dur) * 1000);
    }
    setInterval(makeFlake, 180); // denser/faster snowfall

    /* --- form upload logic (unchanged except UI text) --- */
    const FUNCTION_URL = "https://us-central1-lenbrook-s-got-talent.cloudfunctions.net/uploadVideo";
    const form = document.getElementById("submissionForm");
    const statusMsg = document.getElementById("statusMsg");

    form.addEventListener("submit", async (e) => {
      e.preventDefault();
      statusMsg.textContent = "Uploading… please wait ⏳";

      const formData = new FormData(form);

      try {
        const response = await fetch(FUNCTION_URL, {
          method: "POST",
          body: formData
        });

        const text = await response.text();
        let result;
        try {
          result = JSON.parse(text);
        } catch {
          throw new Error(text);
        }

        if (response.ok) {
          statusMsg.textContent = "✅ Submission received! Thank you!";
          form.reset();
        } else {
          statusMsg.textContent = "Error: " + (result.error || "Unknown error");
        }
      } catch (err) {
        statusMsg.textContent = "Upload failed: " + err.message;
      }
    });
  </script>
</body>
</html>
