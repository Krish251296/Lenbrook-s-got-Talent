<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Lenbrookâ€™s Got Talent â€¢ Submit Your Performance</title>
<style>
  :root {
    --bg-grad-start: #0a1424;
    --bg-grad-end: #1d2a44;
    --card-bg: rgba(255,255,255,0.07);
    --card-border: rgba(255,255,255,0.22);
    --card-shadow: 0 30px 80px rgba(0,0,0,0.6);
    --accent: #4da3ff;
    --accent-hover: #6bb4ff;
    --text-primary: #ffffff;
    --text-dim: rgba(255,255,255,0.6);
    --radius-xl: 20px;
  }

  * {
    box-sizing: border-box;
    -webkit-font-smoothing: antialiased;
    text-rendering: optimizeLegibility;
  }

  body {
    margin: 0;
    min-height: 100vh;
    font-family: system-ui, -apple-system, BlinkMacSystemFont, "Inter", "SF Pro Text", Roboto, "Helvetica Neue", Arial, sans-serif;
    color: var(--text-primary);
    background: radial-gradient(circle at 20% 20%, rgba(90,130,255,0.25) 0%, rgba(0,0,0,0) 60%),
                radial-gradient(circle at 80% 30%, rgba(255,0,180,0.12) 0%, rgba(0,0,0,0) 60%),
                radial-gradient(circle at 50% 80%, rgba(0,255,170,0.08) 0%, rgba(0,0,0,0) 60%),
                linear-gradient(160deg, var(--bg-grad-start) 0%, var(--bg-grad-end) 100%);
    position: relative;
    overflow-x: hidden;
  }

  /**************** SNOW ****************/
  .snow-layer,
  .snow-layer2 {
    pointer-events: none;
    position: fixed;
    inset: 0;
    mix-blend-mode: screen;
    z-index: 10;
  }

  .snow-layer {
    background-image:
      radial-gradient(circle at 20px 20px, rgba(255,255,255,0.9) 0 2px, transparent 3px),
      radial-gradient(circle at 80px 60px, rgba(255,255,255,0.5) 0 1.5px, transparent 2.5px),
      radial-gradient(circle at 200px 120px, rgba(255,255,255,0.8) 0 1.8px, transparent 3px);
    background-size: 220px 220px;
    animation: snowFloat1 5s linear infinite;
    opacity: 0.5;
  }

  .snow-layer2 {
    background-image:
      radial-gradient(circle at 40px 40px, rgba(255,255,255,0.9) 0 1.5px, transparent 2.5px),
      radial-gradient(circle at 120px 90px, rgba(255,255,255,0.4) 0 1px, transparent 2px),
      radial-gradient(circle at 260px 160px, rgba(255,255,255,0.7) 0 1.2px, transparent 2px),
      radial-gradient(circle at 180px 30px, rgba(255,255,255,0.8) 0 1px, transparent 2px);
    background-size: 260px 260px;
    animation: snowFloat2 3.5s linear infinite;
    opacity: 0.55;
  }

  @keyframes snowFloat1 {
    0%   { background-position-y: 0px;   }
    100% { background-position-y: 220px; }
  }
  @keyframes snowFloat2 {
    0%   { background-position-y: 0px;   }
    100% { background-position-y: 260px; }
  }

  /*************** HEADER (top-left logo only) ***************/
  .topbar {
    display: flex;
    align-items: flex-start;
    padding: 20px 24px;
    width: 100%;
    position: relative;
    z-index: 20;
  }

  .logo-only {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    background: rgba(255,255,255,0.07);
    border: 1px solid rgba(255,255,255,0.2);
    box-shadow: 0 20px 40px rgba(0,0,0,0.6);
    border-radius: 20px;
    /* doubled size */
    width: 160px;
    height: 160px;
  }

  .logo-only img {
    width: 140px;
    height: 140px;
    object-fit: contain;
    border-radius: 16px;
  }

  /* page layout */
  .page-shell {
    width: 100%;
    max-width: 1280px;
    margin: 0 auto;
    padding: min(4vw,32px);
    display: grid;
    grid-template-columns: 1fr;
    justify-items: center;
    position: relative;
    z-index: 20;
  }

  /* glass card */
  .card {
    width: 100%;
    max-width: 480px;
    background: var(--card-bg);
    border: 1px solid var(--card-border);
    box-shadow: var(--card-shadow);
    backdrop-filter: blur(24px) saturate(140%);
    -webkit-backdrop-filter: blur(24px) saturate(140%);
    border-radius: var(--radius-xl);
    padding: 28px 24px 24px;
    position: relative;
    z-index: 20;
  }

  .holiday-badge {
    display: inline-flex;
    align-items: center;
    gap: 8px;
    font-size: 0.8rem;
    font-weight: 500;
    color: var(--accent);
    background: rgba(77,163,255,0.12);
    border: 1px solid rgba(77,163,255,0.4);
    border-radius: 999px;
    padding: 6px 12px;
    margin-bottom: 16px;
  }

  .title {
    font-size: 1.15rem;
    font-weight: 600;
    color: var(--text-primary);
    letter-spacing: -0.03em;
    margin: 0 0 6px;
  }

  .subtitle {
    font-size: 0.9rem;
    font-weight: 400;
    line-height: 1.4;
    color: var(--text-dim);
    margin: 0 0 20px;
  }

  form {
    display: grid;
    gap: 16px;
  }

  .field-block {
    display: grid;
    gap: 6px;
  }

  label {
    font-size: 0.8rem;
    font-weight: 500;
    color: var(--text-primary);
    display: flex;
    justify-content: space-between;
  }

  .input-field,
  .file-field,
  textarea {
    width: 100%;
    background: rgba(255,255,255,0.06);
    border: 1px solid rgba(255,255,255,0.28);
    color: var(--text-primary);
    border-radius: 12px;
    font-size: 0.9rem;
    padding: 12px 14px;
    outline: none;
    transition: box-shadow 0.15s, border 0.15s, background 0.15s;
  }

  .input-field:focus,
  .file-field:focus,
  textarea:focus {
    border: 1px solid var(--accent);
    box-shadow: 0 0 16px rgba(77,163,255,0.5);
    background: rgba(255,255,255,0.09);
  }

  textarea {
    resize: none;
    min-height: 72px;
    line-height: 1.4;
  }

  .file-field {
    cursor: pointer;
  }

  .submit-btn {
    background: radial-gradient(circle at 20% 20%, #4da3ff 0%, #246bff 60%);
    border: 0;
    border-radius: 14px;
    padding: 14px 16px;
    font-size: 0.95rem;
    font-weight: 600;
    color: #fff;
    cursor: pointer;
    box-shadow: 0 20px 40px rgba(36,107,255,0.5);
    transition: all 0.12s;
    width: 100%;
    text-align: center;
  }
  .submit-btn:hover {
    background: radial-gradient(circle at 20% 20%, var(--accent-hover) 0%, #3a7dff 60%);
    box-shadow: 0 28px 50px rgba(58,125,255,0.6);
  }

  .statusMsg {
    font-size: 0.8rem;
    font-weight: 500;
    color: var(--accent);
    min-height: 1.2em;
    margin-top: 4px;
    word-break: break-word;
  }

  .santa {
    position: fixed;
    right: 16px;
    bottom: 16px;
    font-size: 2.4rem;
    filter: drop-shadow(0 6px 12px rgba(0,0,0,0.7));
    user-select: none;
    z-index: 30;
  }

  @media (max-width: 480px) {
    .logo-only {
      width: 130px;
      height: 130px;
      border-radius: 18px;
    }
    .logo-only img {
      width: 110px;
      height: 110px;
      border-radius: 14px;
    }

    .card {
      padding: 24px 20px 20px;
    }

    .title {
      font-size: 1rem;
    }
  }
</style>
</head>
<body>
<div class="snow-layer"></div>
<div class="snow-layer2"></div>

<header class="topbar">
  <div class="logo-only">
    <img src="logo.png" alt="Lenbrook's Got Talent" />
  </div>
</header>

<main class="page-shell">
  <section class="card">
    <div class="holiday-badge">
      <span>ðŸŽ„ Holiday Showcase</span>
    </div>

    <h2 class="title">Submit your performance</h2>
    <p class="subtitle">
      Upload your video and tell us whoâ€™s performing.
    </p>

    <form id="submissionForm" enctype="multipart/form-data">
      <div class="field-block">
        <label for="teamName">
          <span>Team / Participant Name</span>
          <span style="color:var(--text-dim);font-weight:400;">required</span>
        </label>
        <input class="input-field" type="text" id="teamName" name="name" required />
      </div>

      <div class="field-block">
        <label for="collab">
          <span>Collaboration / Departments</span>
          <span style="color:var(--text-dim);font-weight:400;">optional</span>
        </label>
        <input class="input-field"
               type="text"
               id="collab"
               name="departments"
               placeholder="Example: Sales + IT Duo" />
      </div>

      <div class="field-block">
        <label for="description">
          <span>Talent Description</span>
          <span style="color:var(--text-dim);font-weight:400;">what are we about to see?</span>
        </label>
        <textarea id="description"
                  name="description"
                  placeholder="Short intro for the MC..."></textarea>
      </div>

      <div class="field-block">
        <label for="videoFile">
          <span>Performance Video</span>
          <span style="color:var(--text-dim);font-weight:400;">required</span>
        </label>
        <input class="file-field" type="file" id="videoFile" name="video" accept="video/*" required />
      </div>

      <button class="submit-btn" type="submit">
        Submit Performance ðŸš€
      </button>
      <div id="statusMsg" class="statusMsg"></div>
    </form>
  </section>
</main>

<div class="santa">ðŸŽ…</div>

<script>
  const FUNCTION_URL = "https://uploadvideo-43f5xuljna-uc.a.run.app";
  const form = document.getElementById("submissionForm");
  const statusMsg = document.getElementById("statusMsg");

  form.addEventListener("submit", async (e) => {
    e.preventDefault();
    statusMsg.textContent = "Uploadingâ€¦ hang tight âœ¨";

    const formData = new FormData(form);

    try {
      const response = await fetch(FUNCTION_URL, {
        method: "POST",
        body: formData,
      });

      const text = await response.text();
      let result;
      try {
        result = JSON.parse(text);
      } catch {
        throw new Error(text);
      }

      if (response.ok) {
        statusMsg.style.color = "#4da3ff";
        statusMsg.textContent = "âœ… Submitted! Thank you!";
        form.reset();
      } else {
        statusMsg.style.color = "#ff6b6b";
        statusMsg.textContent = "Error: " + (result.error || "Unknown error");
      }
    } catch (err) {
      statusMsg.style.color = "#ff6b6b";
      statusMsg.textContent = "Upload failed: " + err.message;
    }
  });
</script>
</body>
</html>
